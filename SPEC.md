# 筆記共享平台專案規格書

## 專案概述
這是一個純前端的筆記共享平台，設計用於在 GitHub Pages 上運行。使用者可以創建、編輯、預覽和分享 Markdown 格式的筆記。

## 開發狀態
- **最後更新時間**：2025-05-09
- **目前狀態**：核心功能已完成，進入功能擴充階段
- **下一步目標**：優先實作資料管理功能，包括匯出/匯入及刪除筆記功能

## 技術棧
- HTML5
- CSS3
- JavaScript (純前端)
- 使用 CDN 引入的外部庫：
  - Bootstrap 5.3.0 (UI 框架)
  - Marked.js 4.3.0 (Markdown 解析)
  - Highlight.js 11.8.0 (程式碼語法高亮)

## 專案進度報告
### 當前完成度：60%
- 基礎功能：100%
- 進階功能：20%
- 使用者體驗優化：0%

## 功能清單
### 第一階段功能（已完成 ✅）
1. 筆記管理基礎功能
   - [x] 創建新筆記
   - [x] 編輯筆記標題和內容
   - [x] 儲存筆記到 localStorage
   - [x] 按時間排序顯示筆記列表

2. Markdown 支援
   - [x] 即時 Markdown 預覽
   - [x] 程式碼區塊語法高亮（使用 highlight.js）
   - [x] 支援常見 Markdown 語法（使用 marked.js）

3. 分享功能
   - [x] 透過 URL 分享筆記（使用 Base64 編碼）
   - [x] 一鍵複製分享連結
   - [x] 自動匯入分享的筆記

4. 使用者介面
   - [x] 響應式設計（支援手機和桌面）
   - [x] 分割視圖（列表 + 編輯器）
   - [x] 編輯/預覽切換功能

### 第二階段功能（開發中 🚧）
1. 資料管理（優先度：高）
   - [ ] 匯出所有筆記功能（計劃使用 JSON 格式）
   - [ ] 匯入筆記功能（支援 JSON 格式）
   - [ ] 刪除筆記功能（包含確認對話框）

2. 編輯器增強（優先度：中）
   - [ ] 工具列（快速插入 Markdown 語法）
   - [ ] 圖片上傳功能（計劃使用 Base64 儲存）
   - [ ] 自動儲存功能（使用 debounce 優化）

3. 使用者體驗（優先度：低）
   - [ ] 深色模式（使用 CSS 變數實現）
   - [ ] 筆記搜尋功能（標題和內容）
   - [ ] 筆記分類/標籤功能

### 開發時程規劃
1. 第二階段第一期（預計 2 週）
   - 實作資料管理相關功能
   - 優先實現刪除筆記功能

2. 第二階段第二期（預計 3 週）
   - 實作編輯器工具列
   - 加入自動儲存功能

3. 第二階段第三期（預計 2 週）
   - 實作深色模式
   - 加入搜尋功能

## 技術實作細節
### 資料結構
#### 筆記物件結構
```javascript
{
    id: number,          // 筆記唯一識別碼（時間戳）
    title: string,       // 筆記標題
    content: string,     // 筆記內容（Markdown 格式）
    created: string,     // 創建時間（ISO 格式）
    // 計劃中的屬性
    tags?: string[],     // 標籤（第二階段）
    lastModified?: string // 最後修改時間（第二階段）
}
```

### 儲存機制
#### 當前實現
- 使用 localStorage
  - 鍵名：'notes'
  - 值：筆記物件陣列的 JSON 字串
  - 最大儲存限制：約 5MB（瀏覽器限制）

#### 計劃中的改進
- 加入資料備份功能
- 考慮使用 IndexedDB 提升儲存容量
- 新增資料匯出/匯入功能

### 檔案結構
1. `index.html`：
   - 主要的 HTML 結構
   - 外部資源引用（Bootstrap、Marked.js、Highlight.js）
   - 基本頁面佈局

2. `style.css`：
   - 樣式定義
   - Markdown 預覽樣式
   - 響應式設計規則

3. `app.js`：
   - 主要應用邏輯
   - NoteApp 類別實現
   - 事件處理和 DOM 操作

## 開發者指南
### 本地開發設置
1. 克隆儲存庫
2. 使用 Live Server 或類似工具運行
3. 不需要額外的建置步驟

### 部署流程
1. 專案設計為可直接部署到 GitHub Pages
2. 不需要建置步驟，直接上傳檔案即可
3. 訪問路徑：`https://<用戶名>.github.io/<儲存庫名稱>`

### 注意事項
1. 資料儲存限制
   - 所有資料都存儲在 localStorage 中
   - 需注意 5MB 儲存限制
   - 建議定期匯出備份（功能開發中）

2. 分享功能
   - 使用 URL 參數和 Base64 編碼
   - 需注意 URL 長度限制
   - 將來可能改用壓縮算法優化

3. 離線功能
   - 目前完全依賴瀏覽器
   - 計劃加入 PWA 支援
   - 考慮實現本地快取

### 未來規劃
1. 近期目標（2-3個月）
   - 完成第二階段所有功能
   - 優化使用者體驗
   - 加入單元測試

2. 中期目標（6個月內）
   - 實現 PWA 支援
   - 加入離線編輯功能
   - 整合雲端儲存服務

3. 長期願景
   - 建立使用者社群
   - 提供筆記範本功能
   - 加入協作編輯功能